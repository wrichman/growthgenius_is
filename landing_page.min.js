webpackJsonp([45],{0:function(t,n){t.exports=function(t){if(typeof execScript!=="undefined")execScript(t);else eval.call(null,t)}},4081:function(t,n,e){e(0)(e(4082))},4082:function(t,n){t.exports="/* eslint strict: 0 */\n/* eslint slack/var-name: 0 */\n/* eslint no-undef: 0 */\n\nvar $body = $(document.body);\n\nvar _$screenshots = $('#screenshots');\nvar _header_carousel_active = true;\nvar _header_advance_interval = false;\nvar _HEADER_ADVANCE_PERIOD_MS = 5000;\n\nvar _$ways_container = $('#communicate');\nvar _ways_advance_interval = false;\nvar _WAYS_ADVANCE_PERIOD_MS = 5000;\n\nvar _ways_slides = $('.ways [data-highlight]').map(function () {\n\treturn $(this).data('highlight');\n});\n\nvar _SCROLL_FIXED_CUTOFF = _SCROLL_FIXED_CUTOFF || ($(window).height() >= 825 ? 300 : 75);\nvar _HEADER_HEIGHT = _HEADER_HEIGHT || 825;\n\nvar _HAS_STORY = _HAS_STORY;\nvar _FROM_SUBDOMAIN = _FROM_SUBDOMAIN;\n\nvar _convertro_id = 0; // eslint-disable-line no-unused-vars\n\n$body.addClass(function () {\n\tif ($body.scrollTop() >= _SCROLL_FIXED_CUTOFF && !$('nav.top[data-no-scroll]').length) {\n\t\treturn 'scrolled';\n\t}\n});\n\n$(window).scroll(function () {\n\tif ($('nav.top[data-no-scroll]').length) return;\n\t$body.toggleClass('scrolled', this.pageYOffset >= _SCROLL_FIXED_CUTOFF);\n\t_header_carousel_active = !(this.pageYOffset >= _HEADER_HEIGHT);\n});\n\n$(window).load(function () {\n\twindow.$CVO = window.$CVO || [];\n\n\t// Snatches the convertro ID\n\twindow.$CVO.push(['getCode', function (convertro_id) {\n\t\t_convertro_id = convertro_id;\n\t}]);\n\n\t$('nav.mobile_menu').removeClass('loading');\n\n\t$('[data-srcset]').each(function () {\n\t\t$(this).attr('srcset', $(this).attr('data-srcset'));\n\t});\n\t$('[data-src]').each(function () {\n\t\t$(this).attr('src', $(this).attr('data-src'));\n\t});\n\t$('[data-defer-bg]').each(function () {\n\t\t$(this).removeAttr('data-defer-bg');\n\t});\n\n\t// Start header carousel auto-advance\n\tif (_$screenshots.length) _startHeaderAutoAdvance();\n\n\t// Start tour \"ways\" auto-advance\n\tif (_$ways_container.length) _startWaysAutoAdvance();\n\n\t// ads\n\t$('#story_scroll').on('click', function () {\n\t\tvar animate_to;\n\n\t\tif ($('.top_ad_header_mobile').length > 0 && $(window).width() <= 640) {\n\t\t\tanimate_to = $('.top_ad_header_mobile');\n\t\t} else if ($('header').length > 0) {\n\t\t\tanimate_to = $('header');\n\t\t} else {\n\t\t\tanimate_to = $('#page');\n\t\t}\n\t\t$('html, body').animate({ scrollTop: animate_to.offset().top - $('nav.top').height() }, 250);\n\t});\n\n\tvar query_story = _getQueryVariable('story');\n\tvar query_slide = _getQueryVariable('s');\n\tvar query_cta_bottom = _getQueryVariable('cta_bottom');\n\n\tif (_getQueryVariable('hp_debug') !== '1') {\n\t\tsetTimeout(function () {\n\t\t\t// cookie?\n\t\t\tif (_getQueryVariable('reset_cookie') === '1') {\n\t\t\t\twindow.eraseCookie('lp_nt', '.slack.com');\n\t\t\t} else if (_getQueryVariable('story') === 'marsandbeyond') {\n\t\t\t\thistory.replaceState({}, 'story', '/');\n\t\t\t} else if (_getQueryVariable('story') === 'openforbusiness') {\n\t\t\t\thistory.replaceState({}, 'story', '/');\n\t\t\t} else if (_getQueryVariable('story') === 'neutrinoinahaystack') {\n\t\t\t\thistory.replaceState({}, 'story', '/');\n\t\t\t} else if (_getQueryVariable('clean') === '1') {\n\t\t\t\thistory.replaceState({}, 'clean', '/');\n\t\t\t}\n\t\t}, bowser.msie ? 200 : 0);\n\t}\n\n\tvar hp_version_perf;\n\tif (query_story) {\n\t\thp_version_perf = 'slide_' + (query_slide || '0') + '_cta_' + (query_cta_bottom || '0');\n\t} else {\n\t\thp_version_perf = 'control';\n\t}\n\t// Page loaded; beacon back load time.\n\tif (landing.perf_beacon_prefix) {\n\t\tTSMeasureAndBeacon(landing.perf_beacon_prefix + '_load', 'start_load');\n\t\tTSMeasureAndBeacon(landing.perf_beacon_prefix + '_total_load', 'start_nav');\n\t\tTSMeasureAndBeacon(landing.perf_beacon_prefix + '_' + hp_version_perf + '_load', 'start_load');\n\t}\n});\n\n$('#screenshots .switcher a').click(function (e) {\n\te.preventDefault();\n\te.stopPropagation();\n\t_stopHeaderAutoAdvance();\n\t$('#screenshots').attr('data-highlight', $(this).data('highlight'));\n});\n$('#screenshots').click(function () {\n\t_stopHeaderAutoAdvance();\n\t_moveHeaderCarouselRight();\n});\n\n$(document).keydown(function (e) {\n\t// Don't handle keys if we are scrolled past header\n\tif (!_header_carousel_active) return;\n\n\tswitch (e.which) {\n\t\t// Left\n\t\tcase 37:\n\t\t\t_stopHeaderAutoAdvance();\n\t\t\t_moveHeaderCarouselLeft();\n\t\t\tbreak;\n\t\t// Right\n\t\tcase 39:\n\t\t\t_stopHeaderAutoAdvance();\n\t\t\t_moveHeaderCarouselRight();\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t}\n});\n\n// Tour \"ways\" section\n$('#communicate .way').click(function (e) {\n\t// Don't act as switcher on mobile version\n\tif ($(document).width() <= 945) return;\n\n\te.stopPropagation();\n\t_stopWaysAutoAdvance();\n\t$('#communicate').attr('data-highlight', $(this).data('highlight'));\n});\n$('#communicate .switcher a').click(function (e) {\n\te.preventDefault();\n\te.stopPropagation();\n\t_stopWaysAutoAdvance();\n\t$('#communicate').attr('data-highlight', $(this).data('highlight'));\n});\n$('#communicate').click(function () {\n\t_stopWaysAutoAdvance();\n\t_moveWays();\n});\n\n// A/B test CTA\n$('.cta_track').on('click', function (e) {\n\te.preventDefault();\n\t$(this).append('<form id=\"cta_submit\" action=\"' + landing.root_url + 'create\" method=\"post\" type=\"hidden\"></form>');\n\tvar $form = $('#cta_submit');\n\t$form.submit();\n});\n\n// A/B test email form\n$('.cta_form').on('submit', function (e) {\n\te.preventDefault();\n\n\tvar $form = $(this);\n\tvar $email = $('.input_email', $(this));\n\n\t// Removes zero-width whitespace\n\tvar email_str = $.trim($email.val()).replace(/[\\u200B-\\u200D\\uFEFF]/g, '');\n\tvar email_regex = new RegExp(\"^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$\", 'i');\n\n\tvar error_msg;\n\tvar error_color;\n\tvar d = $.Deferred();\n\n\td.fail(function () {\n\t\t_addToolTip($form.find('.cta_input_email_wrapper'), error_msg, error_color);\n\t});\n\n\t// Checks for empty email input.\n\tif (!email_str) {\n\t\terror_msg = TS.i18n.t('Please fill out your email address!', 'email_form')();\n\t\treturn d.reject(error_msg);\n\t}\n\n\t// Checks for valid email regex.\n\tif (!email_regex.test(email_str)) {\n\t\terror_msg = TS.i18n.t('Oops! That looks like an invalid email address!', 'email_form')();\n\t\treturn d.reject(error_msg);\n\t}\n\n\t// Checks against blacklisted email domains.\n\twindow.callSlackAPIUnauthed('signup.checkEmail', { email: email_str }, function (ok, data) {\n\t\tif (ok) {\n\t\t\treturn d.resolve();\n\t\t}\n\n\t\tif (data.error === 'bad_email_domain') {\n\t\t\tvar email_domain = email_str.split('@')[1];\n\t\t\terror_msg = TS.i18n.t('Sorry, but we do not allow signups from @{domain}.<br class=\"hide_on_mobile\"> Please pick a different email address!', 'email_form')({\n\t\t\t\tdomain: email_domain\n\t\t\t});\n\t\t\terror_color = 'red';\n\t\t} else {\n\t\t\t// Only other error should be ratelimit.\n\t\t\terror_msg = TS.i18n.t('Sorry, you‘ve hit the rate limit.<br class=\"hide_on_mobile\"> You‘ll be able to try again soon.', 'email_form')();\n\t\t\terror_color = 'red';\n\t\t}\n\n\t\treturn d.reject();\n\t});\n\n\td.then(function () {\n\t\t// Success! Detach event handler so that the above logic doesn't happen, and submit form.\n\t\t$form.off('submit');\n\t\t$form.submit();\n\t});\n});\n\nfunction _addToolTip($input_wrapper, error_msg, error_color) {\n\terror_color = error_color || 'orange';\n\tvar $ts_tip_tip = $input_wrapper.find('.ts_tip_tip');\n\tvar $input_email = $input_wrapper.find('.input_email');\n\n\t// No tooltip! Create one\n\tif (!$ts_tip_tip.length) {\n\t\t$ts_tip_tip = $('<span class=\"ts_tip_tip\"><span class=\"ts_tip_multiline_inner\">' + error_msg + '</span></span>');\n\t\t$input_wrapper.addClass('ts_tip ts_tip_top ts_tip_float ts_tip_hide ts_tip_multiline').append($ts_tip_tip);\n\t\t$input_email.on('input', function () {\n\t\t\t$input_wrapper.addClass('ts_tip_hide');\n\t\t});\n\n\t\tsetTimeout(function () {\n\t\t\t$input_wrapper.removeClass('ts_tip_hide');\n\t\t}, 0);\n\t} else {\n\t\t$input_wrapper.removeClass('ts_tip_hide').find('.ts_tip_multiline_inner').html(error_msg);\n\t}\n\n\t$ts_tip_tip.attr('data-color', error_color);\n\t$input_email.focus();\n}\n\n// Header carousel advancing\nfunction _moveHeaderCarouselRight() {\n\tif (!_header_carousel_active) return;\n\t_moveWays();\n}\n\nfunction _moveHeaderCarouselLeft() {\n\tif (!_header_carousel_active) return;\n\t_moveWays('prev');\n}\n\nfunction _startHeaderAutoAdvance() {\n\tif (!_header_advance_interval) {\n\t\t_header_advance_interval = setInterval(_moveHeaderCarouselRight, _HEADER_ADVANCE_PERIOD_MS);\n\t}\n}\n\nfunction _stopHeaderAutoAdvance() {\n\tclearInterval(_header_advance_interval);\n\t_header_advance_interval = false;\n}\n\n// // Tour \"ways\" advancing forward, or back\nfunction _moveWays(direction) {\n\tif (!_header_carousel_active) return;\n\tvar current = _$ways_container.attr('data-highlight');\n\n\tvar index = $.inArray(current, _ways_slides);\n\n\t// assume that _moveWays is called, by default, to go forward unless explicity told to go `prev`\n\tdirection = direction === 'prev' ? -1 : 1;\n\tvar next = _ways_slides[index + direction] ? index + direction : 0;\n\n\t_$screenshots.attr('data-highlight', _ways_slides[next]);\n\t_$ways_container.attr('data-highlight', _ways_slides[next]);\n}\n\nfunction _startWaysAutoAdvance() {\n\tif (!_ways_advance_interval) {\n\t\t_ways_advance_interval = setInterval(_moveWays, _WAYS_ADVANCE_PERIOD_MS);\n\t}\n}\nfunction _stopWaysAutoAdvance() {\n\tclearInterval(_ways_advance_interval);\n\t_ways_advance_interval = false;\n}\n\nfunction _getQueryVariable(variable) {\n\tvar query = window.location.search.substring(1);\n\tvar vars = query.split('&');\n\tfor (var i = 0; i < vars.length; i += 1) {\n\t\tvar pair = vars[i].split('=');\n\t\tif (pair[0] == variable) return pair[1];\n\t}\n\treturn false;\n}\n\nvar landing = {\n\tunderline: {},\n\thas_complete_typewrite: false,\n\n\tinit: function init() {\n\t\tvar gtmDataLayer = window.dataLayer || []; // eslint-disable-line no-unused-vars\n\n\t\tif (_getQueryVariable('story') || landing.story_name) {\n\t\t\tlanding.preloadImage();\n\t\t\tif ($(window).width() < 641) {\n\t\t\t\t$('.typed_remove').addClass('hidden');\n\t\t\t\tlanding.completeTypewrite();\n\t\t\t}\n\t\t}\n\n\t\tlanding.createRotationList();\n\t},\n\n\tpreloadImage: function preloadImage() {\n\t\tvar story_query = _getQueryVariable('story') || landing.story_name;\n\t\tvar header_img;\n\n\t\tif (story_query === 'marsandbeyond') {\n\t\t\theader_img = 'nasa-header-image';\n\t\t} else if (story_query === 'neutrinoinahaystack') {\n\t\t\theader_img = 'neutrino-observatory-header-image';\n\t\t} else if (story_query === 'decodingdna') {\n\t\t\theader_img = 'macarthur-lab-header-image';\n\t\t} else if (story_query === 'brewbetter') {\n\t\t\theader_img = 'blue-bottle-header';\n\t\t} else if (story_query === 'openforbusiness') {\n\t\t\theader_img = 'square-header-image';\n\t\t} else {\n\t\t\tlanding.startAnimation();\n\t\t\treturn;\n\t\t}\n\n\t\tvar image = new Image();\n\t\timage.onload = function () {\n\t\t\tsetTimeout(landing.startAnimation, 2400);\n\t\t};\n\n\t\timage.src = '/img/wired/' + header_img + '@tiny.jpg';\n\t},\n\n\tstartAnimation: function startAnimation() {\n\t\tlanding.typewrite(27);\n\t},\n\n\ttypewrite: function typewrite(speed) {\n\t\t$('.typed_remove').addClass('hidden');\n\t\t$('.typewriter').typed({\n\t\t\tstrings: [$('.typewriter_copy').html()],\n\t\t\ttypeSpeed: speed,\n\t\t\tcallback: landing.completeTypewrite\n\t\t});\n\t},\n\n\tcompleteTypewrite: function completeTypewrite() {\n\t\tif (landing.has_complete_typewrite) return;\n\n\t\tlanding.underline.robots_path = bowser.msie ? $('.underline_robots_image') : $('.underline_robots_path');\n\t\tlanding.underline.mars_path = bowser.msie ? $('.underline_mars_image') : $('.underline_mars_path');\n\t\tlanding.underline.robots = $('.underline_robots');\n\t\tlanding.underline.mars = $('.underline_mars');\n\n\t\tlanding.underline.robots.append(landing.underline.robots_path);\n\t\tlanding.underline.mars.append(landing.underline.mars_path);\n\t\t$('.typed-cursor').addClass('hide');\n\t\t$body.addClass('start_animation');\n\t\tlanding.has_complete_typewrite = true;\n\t},\n\n\tcreateRotationList: function createRotationList() {\n\t\tvar list = ['neutrinoinahaystack', 'waterislife', 'marsandbeyond'];\n\n\t\tif (window.readCookie('lp_l')) {\n\t\t\tlist = window.readCookie('lp_l');\n\t\t\tlist = list.split(',');\n\t\t\tlist.push(list.shift());\n\t\t}\n\n\t\twindow.createCookie('lp_l', list, 365, 'slack.com');\n\t}\n};\n\n$(landing.init);"}},[4081]);